# ai_helper.py
import random

def generate_follow_up(current_question: str, user_answer: str, profile_context: dict, step_counter: int):
    """
    –ò–º–∏—Ç–∞—Ü–∏—è –∏–Ω—Ç–µ–ª–ª–µ–∫—Ç—É–∞–ª—å–Ω–æ–≥–æ –ø–æ–º–æ—â–Ω–∏–∫–∞.
    –í —Ä–µ–∞–ª—å–Ω–æ–º –ø—Ä–æ–µ–∫—Ç–µ –∑–¥–µ—Å—å –±—É–¥–µ—Ç –æ–±—Ä–∞—â–µ–Ω–∏–µ –∫ LLM (–Ω–∞–ø—Ä–∏–º–µ—Ä, GPT),
    –∫–æ—Ç–æ—Ä—ã–π —Ñ–æ—Ä–º—É–ª–∏—Ä—É–µ—Ç —É—Ç–æ—á–Ω—è—é—â–∏–µ –≤–æ–ø—Ä–æ—Å—ã –∏ –º–æ—Ç–∏–≤–∞—Ü–∏–æ–Ω–Ω—ã–µ —Ñ—Ä–∞–∑—ã.
    """
    # –ï—Å–ª–∏ –æ—Ç–≤–µ—Ç —Å–ª–∏—à–∫–æ–º –∫–æ—Ä–æ—Ç–∫–∏–π, –∑–∞–¥–∞–µ–º —É—Ç–æ—á–Ω–µ–Ω–∏–µ
    if len(user_answer.strip()) < 10:
        follow_up = f"–ú–æ–∂–µ—Ç–µ —á—É—Ç—å –ø–æ–¥—Ä–æ–±–Ω–µ–µ —Ä–∞—Å—Å–∫–∞–∑–∞—Ç—å: {current_question.lower()}?"
    else:
        follow_up = "–°–ø–∞—Å–∏–±–æ! –ú–æ–∂–µ—Ç–µ –æ–ø–∏—Å–∞—Ç—å —Å–ª–µ–¥—É—é—â–∏–π —à–∞–≥ —ç—Ç–æ–≥–æ –ø—Ä–æ—Ü–µ—Å—Å–∞?"

    # –ü–æ–¥–±–∞–¥—Ä–∏–≤–∞–Ω–∏–µ
    motivation_phrases = [
        "–û—Ç–ª–∏—á–Ω–æ, –ø—Ä–æ–¥–æ–ª–∂–∞–π—Ç–µ –≤ —Ç–æ–º –∂–µ –¥—É—Ö–µ!",
        "–í—ã –æ—á–µ–Ω—å —á—ë—Ç–∫–æ —Ñ–æ—Ä–º—É–ª–∏—Ä—É–µ—Ç–µ, —Å–ø–∞—Å–∏–±–æ!",
        "–•–æ—Ä–æ—à–æ –∏–¥—ë–º, —Ä–∞—Å—Å–∫–∞–∂–∏—Ç–µ —á—É—Ç—å –ø–æ–¥—Ä–æ–±–Ω–µ–µ üëá",
        "–ó–∞–º–µ—á–∞—Ç–µ–ª—å–Ω–æ! –¢–µ–ø–µ—Ä—å —É—Ç–æ—á–Ω–∏–º –æ–¥–∏–Ω –º–æ–º–µ–Ω—Ç..."
    ]

    return {
        "follow_up_question": follow_up,
        "motivation_phrase": random.choice(motivation_phrases)
    }
